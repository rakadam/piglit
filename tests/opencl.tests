import os
import os.path as path

from framework.core import *
from framework.exectest import *

def add_ocl_test(group, name):
	group[name] = PlainExecTest([name, '-auto'])

profile = TestProfile()

opencl_sanity = Group()
  
add_ocl_test(opencl_sanity, 'ocl-context')
add_ocl_test(opencl_sanity, 'ocl-allocate-global')
add_ocl_test(opencl_sanity, 'ocl-transfer-global')
add_ocl_test(opencl_sanity, 'ocl-write-global')
add_ocl_test(opencl_sanity, 'ocl-readwrite-global')
add_ocl_test(opencl_sanity, 'ocl-indexed-global')
add_ocl_test(opencl_sanity, 'ocl-indexed-readwrite-global')
add_ocl_test(opencl_sanity, 'ocl-compare')
add_ocl_test(opencl_sanity, 'ocl-branch')
add_ocl_test(opencl_sanity, 'ocl-float-arithm')
add_ocl_test(opencl_sanity, 'ocl-int-arithm')
add_ocl_test(opencl_sanity, 'ocl-loop')

opencl_compile = Group()

for filename in os.listdir('./bin'):
	if filename[0:11] == 'ocl-compile' :
		add_ocl_test(opencl_compile, filename);

profile.tests['opencl_sanity'] = opencl_sanity;
profile.tests['opencl_compile'] = opencl_compile;
